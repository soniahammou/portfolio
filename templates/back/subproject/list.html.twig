{% extends 'back/base.html.twig' %}
{% block body %}
	<div class="container">
		<div class="row">
			<div class="col-md-5 mt-5 mb-5">
				<h1>
					BackOffice</h1>

				<h3>Les subprojects graphiques</small>
			</h3>
			<a href="{{path('app_back_subproject_add')}}">
				<button type="button" class="btn btn-primary">Ajouter un nouveau subproject</button>
			</a>
			<a href="{{path('app_main')}}">
				<button type="button" class="btn btn-primary">
					Voir le frontOffice</button>
			</a>

		</div>
	</div>
</div>


<div class="container">
	<div class="row">
		<div class="col">


			<form action="{{path('app_back_subproject_list')}}" method="post">
				<label for="project-select">Choisissez un projet</label>
				<select class="form-select" aria-label="select project" name="search" type="search">

					<option value="select a option">Selectionner un projet</option>
					<option value="Voir tout">
						Voir tout
					</option>
					{% for project in projectChoice %}
						<option value="{{project.title}}">{{project.title}}</option>

					{% endfor %}


				</select>

				{# <input class="form-control form-control-sm me-2" name="search" type="search" placeholder="Rechercher...">  #}
				<button class="btn btn-outline-danger" type="submit">
					rechercher</button>
			</form>
			<table class="table table-striped table-hover table-sm">
				<thead>
					<tr>
						<th scope="col">Logo</th>

						<th scope="col">Projets</th>
						<th scope="col">Clients</th>
						<th scope="col">Tags</th>
						<th scope="col">Infos</th>
						<th scope="col">Logo</th>
						<th scope="col">Status</th>

					</tr>
				</thead>


				<tbody>
					<tr class="table">
						{% for key , subproject in subprojectsList %}

							{% for keyColor , color in colorStatus %}

								{% if key is same as(keyColor)%}


								</td>

								<td>
									{{subproject.project.title}}</td>

								<td>{{subproject.title}}</td>
								<td>{{subproject.summary}}</td>
								<td>{{subproject.subtitle}}</td>
								<td>{{subproject.content}}</td>
								<td>{{subproject.status}}
									<i class="bi bi-circle-fill" style="font-size: 1rem; color:{{color}} ;"></i>
								</td>

								{# ? les boutons #}




									<td><a href="{{path('app_back_subproject_show', {id: subproject.id})}}">
										<button type="button" class="btn btn-primary">voir</button>
									</a></td>
								
									<td><a href="{{path('app_back_subproject_update', {id: subproject.id})}}">
										<button type="button" class="btn btn-warning">modifier</button>
									</a></td>
							




{% include "back/fragments/_boutons_actions.html.twig" with {'entityProperty':  subproject.status, 'entity': 'subproject', 'entityId': subproject.id} %}


								{# {% if subproject.status is same as('Archivé')or subproject.status is same as('Brouillon') %}




									<td>
										<a href="{{path('app_back_subproject_publishSupbroject', {id: subproject.id})}}">
											<button type="button" class="btn btn-success">publié</button>
										</td>

										{% else %}
											<td>
												<a href="{{path('app_back_subproject_archiver', {id: subproject.id})}}">
													<button type="button" class="btn btn-danger">archivé</button>
												</td>
											{% endif %}


 #}




											
									
										</tr>
									{% endif %}

								{% endfor %}

							{% endfor %}


						</tbody>
					</tr>
				</tbody>
			</tr>
		</tbody>
	</table>
</tbody>


<nav class="col-lg-9 offset-lg-3 navigation">
	{% if projectChoice is same as(projectChoice)%}
		{{ knp_pagination_render(projectChoice) }}
	{% else %}

		{{ knp_pagination_render(subprojectsList) }}


	{% endif %}


</nav></div></div></div>{% endblock %}
